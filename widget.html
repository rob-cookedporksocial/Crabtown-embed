<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Overlock:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --brand:#049393;
  --gold:#d8a741;
  --gold-dark:#b58935;
}
*{box-sizing:border-box}
body{margin:0;font-family:"Overlock",system-ui,Segoe UI,Roboto,Arial,sans-serif;background:#fff;color:#073f3f}
.wrapper{max-width:1400px;margin:0 auto;padding:12px;text-align:center}

/* Top CTA bar */
.cta-bar{display:flex;justify-content:center;gap:18px;flex-wrap:wrap;margin:8px auto 18px}
.cta-btn{
  background:var(--brand);color:#fff;text-decoration:none;font-weight:700;
  border-radius:14px;padding:12px 22px;min-width:220px;
  box-shadow:0 6px 16px rgba(0,0,0,.15);transition:.2s transform,.2s background,.2s box-shadow
}
.cta-btn:hover{background:var(--gold);transform:translateY(-2px);box-shadow:0 10px 24px rgba(0,0,0,.18)}
.cta-btn:active{background:var(--gold-dark);transform:translateY(0)}

/* Section header */
.h2{font-size:clamp(28px,4vw,48px);color:var(--brand);font-weight:700;margin:14px 0 10px}

/* Trio */
.grid{display:grid;grid-template-columns: 420px 328px 420px;gap:26px;align-items:center;justify-content:center;margin:10px 0 26px}
.card{border-radius:20px;background:#fff;box-shadow:0 12px 30px rgba(0,0,0,.12)}
.square{width:420px;height:420px;overflow:hidden}
.square img{width:100%;height:100%;object-fit:cover;display:block;border-radius:20px;transition:.35s transform,.35s box-shadow}
.square:hover img{transform:scale(1.04);box-shadow:0 18px 38px rgba(0,0,0,.18)}
.ig{width:328px}
.instagram-media{width:100% !important;border-radius:20px !important;box-shadow:0 12px 30px rgba(0,0,0,.12) !important;margin:0 auto !important}

/* Social */
.social{display:flex;justify-content:center;align-items:center;gap:22px;margin:8px 0 26px;flex-wrap:wrap}
.social a.icon{
  display:inline-flex;align-items:center;justify-content:center;width:74px;height:74px;border-radius:54px;
  background:var(--brand);box-shadow:0 10px 22px rgba(0,0,0,.15);transition:.25s transform,.25s background,.25s box-shadow
}
.social a.icon:hover{background:var(--gold);transform:translateY(-3px) scale(1.04);box-shadow:0 14px 28px rgba(0,0,0,.18)}
.social a.icon svg{width:48px;height:48px;fill:#fff}
.logo{height:100px;width:auto;filter:drop-shadow(0 6px 16px rgba(0,0,0,.12))}

/* Responsive:
   - Hide the trio on â‰¤1024px (removes scroll problems in Sites)
   - Keep CTAs + social only */
@media (max-width:1024px){
  .grid{display:none}
  .cta-btn{min-width:240px}
  .social a.icon{width:72px;height:72px}
  .social a.icon svg{width:40px;height:40px}
  .logo{height:90px}
}
@media (max-width:600px){
  .cta-bar{gap:10px}
  .cta-btn{min-width:88vw;padding:10px 16px;border-radius:10px}
  .social{gap:16px}
  .social a.icon{width:64px;height:64px}
  .social a.icon svg{width:32px;height:32px}
  .logo{height:72px}
}
</style>
</head>
<body>
<div class="wrapper">
  <!-- CTAs -->
  <div class="cta-bar" id="ctaBar"></div>

  <!-- Heading -->
  <div class="h2" id="heading">Follow Us To Know Where We Go!</div>

  <!-- Trio (desktop only) -->
  <section class="grid" id="trio">
    <a class="square card" id="leftLink" target="_blank" rel="noopener"><img id="leftImg" alt=""></a>
    <div class="ig card" id="igWrap">
      <blockquote class="instagram-media" id="igBlock" data-instgrm-version="14"></blockquote>
    </div>
    <a class="square card" id="rightLink" target="_blank" rel="noopener"><img id="rightImg" alt=""></a>
  </section>

  <!-- Social -->
  <div class="social">
    <a class="icon" id="igProfile" target="_blank" rel="noopener" aria-label="Instagram">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7Z"/><path d="M12 7.5A4.5 4.5 0 1 1 7.5 12 4.51 4.51 0 0 1 12 7.5Zm0 2A2.5 2.5 0 1 0 14.5 12 2.5 2.5 0 0 0 12 9.5Z"/><circle cx="17.5" cy="6.5" r="1.25"/></svg>
    </a>
    <img class="logo" id="logo" alt="Truck Logo">
    <a class="icon" id="fbProfile" target="_blank" rel="noopener" aria-label="Facebook">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M22 12a10 10 0 1 0-11.5 9.9v-7H8.2v-3h2.3V9.7c0-2.3 1.4-3.6 3.5-3.6 1 0 2 .1 2 .1v2.3h-1.1c-1.1 0-1.4.7-1.4 1.3V12h2.4l-.4 3h-2v7A10 10 0 0 0 22 12Z"/></svg>
    </a>
  </div>
</div>

<!-- Instagram embed (safe to load even if .grid is hidden on mobile) -->
<script async src="https://www.instagram.com/embed.js"></script>
<!-- iFrameResizer content script (lets the parent resize the iframe height) -->
<script src="https://cdn.jsdelivr.net/npm/iframe-resizer/js/iframeResizer.contentWindow.min.js"></script>

<script>
/* Simple param helper */
const P = new URLSearchParams(location.search);
const get = (k, d="") => P.get(k) ?? d;

/* Branding via params */
const setVar = (name, val) => val && document.documentElement.style.setProperty(name, val);
setVar('--brand', get('brand'));      // e.g. %23049393
setVar('--gold',  get('gold'));
setVar('--gold-dark', get('golddark'));

/* Heading (optional) */
const heading = get('heading');
if (heading) document.getElementById('heading').textContent = heading;

/* CTAs */
const ctaBar = document.getElementById('ctaBar');
const mkBtn = (label, url) => {
  if (!url) return;
  const a = document.createElement('a');
  a.className='cta-btn'; a.href=url; a.target='_blank'; a.rel='noopener';
  a.textContent=label; ctaBar.appendChild(a);
};
mkBtn(get('cta1Label','See Today\'s Schedule'), get('cta1'));
mkBtn(get('cta2Label','Menu'),                  get('cta2'));
mkBtn(get('cta3Label','Order / Pay'),          get('cta3'));

/* Images + links */
const leftImg  = get('leftImg');
const leftHref = get('leftHref', leftImg);
const rightImg = get('rightImg');
const rightHref= get('rightHref', rightImg);
if (leftImg)  { document.getElementById('leftImg').src = leftImg;  document.getElementById('leftLink').href = leftHref; }
if (rightImg) { document.getElementById('rightImg').src= rightImg; document.getElementById('rightLink').href= rightHref; }

/* IG post + profiles */
const igPost = get('igPost'); // full IG URL like https://www.instagram.com/p/CjaoxYOruG8/
if (igPost)  document.getElementById('igBlock').setAttribute('data-instgrm-permalink', igPost);
const igHandle = get('ig','crabtowncurbs');
document.getElementById('igProfile').href = 'https://www.instagram.com/'+igHandle+'/';
const fbUrl = get('fb','http://facebook.com/');
document.getElementById('fbProfile').href = fbUrl;

/* Logo */
const logo = get('logo');
if (logo) document.getElementById('logo').src = logo;

/* Optional: hide the entire trio via a param even on desktop */
if (get('hideTrio') === '1') document.getElementById('trio').style.display='none';
</script>
</body>
</html>
